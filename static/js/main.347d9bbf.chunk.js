(this["webpackJsonpsagiv-dayan-15-03-2021"]=this["webpackJsonpsagiv-dayan-15-03-2021"]||[]).push([[0],{174:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),i=n.n(r),s=n(53),o=n(18),l=(n(174),n(62)),j=n(20),d=n(121),u=n(28),b=n(266),O=n(56),h=n(21),m=n(143),p=n(146),x=n(245),v=n(83),f=n(244),g=n(4),y=Object(p.a)({palette:{primary:{light:v.a[400],main:v.a[700],dark:v.a[900]},secondary:{main:f.a[600]},contrastThreshold:3,tonalOffset:.2}});function I(e){var t=e.children;return Object(g.jsx)(x.a,{theme:y,children:t})}var S=n(58),D=n(243),C=n(150),E=n(262),w=n(207),N=n(263),k=n(29),A=n(30),T=n(76),_=n(84),L=n(85),P=n(273),R=n(247),W=n(248),B=n(249),H=n(275),U=n(268),G=n(250),V=n(251),q=n(269),F=Object(D.a)((function(e){return{dialog:{background:v.a[200]},input:{maxWidth:"100%"},clearButton:{marginRight:e.spacing(3),color:_.a.A700},submitButton:{color:L.a[500]}}}));function z(e){var t=e.open,n=e.handleClose,c=Object(a.useState)({name:"",price:"",store:"",estimatedArrivalDate:new Date}),r=Object(S.a)(c,2),i=r[0],s=r[1],l=Object(O.b)().enqueueSnackbar,j=F(),d=Object(o.b)(),u=function(e,t){s((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(T.a)({},t,e.target.value))}))},b=function(e){l(e,{variant:"error"})};return Object(g.jsxs)(P.a,{PaperProps:{className:j.dialog},open:t,onClose:n,fullWidth:!0,children:[Object(g.jsx)(R.a,{children:"Add New Item"}),Object(g.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),i.name.trim())?i.store.trim()?i.price.match(/^\d+$/g)?(d((t=i,Object(h.a)({type:"ADD",id:Object(m.v4)()},t))),l("Item has been added successfully",{variant:"success"}),s({name:"",price:"",store:"",estimatedArrivalDate:new Date}),n()):b("Invalid price - digits only"):b("Item's store is missing"):b("Item's name is missing")},children:[Object(g.jsx)(W.a,{dividers:!0,children:Object(g.jsxs)(B.a,{container:!0,spacing:2,alignContent:"center",children:[Object(g.jsx)(B.a,{item:!0,md:6,sm:6,xs:6,children:Object(g.jsx)(H.a,{children:Object(g.jsx)(U.a,{className:j.input,margin:"dense",label:"Item Name",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(k.a,{icon:A.b})})},onChange:function(e){return u(e,"name")},value:i.name,variant:"outlined"})})}),Object(g.jsx)(B.a,{item:!0,sm:6,xs:6,children:Object(g.jsx)(H.a,{children:Object(g.jsx)(U.a,{className:j.input,margin:"dense",label:"Store",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(k.a,{icon:A.g})})},onChange:function(e){return u(e,"store")},value:i.store,variant:"outlined"})})}),Object(g.jsx)(B.a,{item:!0,sm:6,xs:6,children:Object(g.jsx)(H.a,{children:Object(g.jsx)(U.a,{className:j.input,margin:"dense",label:"Price",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(k.a,{icon:A.h})})},onChange:function(e){return u(e,"price")},value:i.price,variant:"outlined"})})}),Object(g.jsx)(B.a,{item:!0,sm:6,xs:6,children:Object(g.jsx)(H.a,{children:Object(g.jsx)(q.a,{autoOk:!0,disableToolbar:!0,margin:"dense",variant:"inline",inputVariant:"outlined",label:"Estimated Date of Arrival",value:i.estimatedArrivalDate,format:"dd/MM/yyyy",disablePast:!0,onChange:function(e){return function(e){s((function(t){return Object(h.a)(Object(h.a)({},t),{},{estimatedArrivalDate:e})}))}(e)}})})})]})}),Object(g.jsx)(V.a,{children:Object(g.jsxs)(B.a,{container:!0,justify:"space-between",children:[Object(g.jsx)(B.a,{item:!0,children:Object(g.jsx)(w.a,{onClick:function(){return n()},variant:"text",children:"Cancel"})}),Object(g.jsxs)(B.a,{item:!0,children:[Object(g.jsx)(w.a,{className:j.clearButton,onClick:function(e){e.preventDefault(),s({name:"",price:"",store:"",estimatedArrivalDate:new Date})},variant:"text",startIcon:Object(g.jsx)(k.a,{icon:A.i}),children:"Clear"}),Object(g.jsx)(w.a,{className:j.submitButton,type:"submit",variant:"text",startIcon:Object(g.jsx)(k.a,{icon:A.f}),children:"Submit"})]})]})})]})]})}var M=n(254),X=n(255),Y=n(256),J=n(267);function Q(e){var t=e.productDetails,n=Object(O.b)().enqueueSnackbar,a=Object(o.b)(),c=Object(o.c)((function(e){return e.currency})),r=t.id,i=t.name,s=t.store,l=t.price,j=t.estimatedArrivalDate,d=t.delivered;return Object(g.jsxs)(X.a,{children:[Object(g.jsx)(Y.a,{component:"th",scope:"row",children:i}),Object(g.jsx)(Y.a,{align:"left",children:s}),Object(g.jsx)(Y.a,{align:"right",children:"ILS"===c.view?l*c.value:l}),Object(g.jsx)(Y.a,{align:"right",children:Object(J.a)(j,"dd/MM/yyyy")}),Object(g.jsx)(Y.a,{align:"center",children:Object(g.jsx)(w.a,{onClick:function(){return function(e){a({type:"TOGGLE",id:e}),n(d?"Item has been reactivated":"Item has been marked as delivered",{variant:"info",TransitionComponent:M.a})}(r)},size:"small",fullWidth:!0,variant:"text",children:d?"Activate":"Archive"})})]})}var $=n(257),K=n(206),Z=n(258),ee=n(259),te=n(260),ne=Object(D.a)((function(e){return{table:{maxHeight:"280px",overflow:"auto"}}}));function ae(e){var t=e.children,n=ne();return Object(g.jsx)($.a,{className:n.table,component:K.a,children:Object(g.jsxs)(Z.a,{stickyHeader:!0,size:"small",children:[Object(g.jsx)(ee.a,{children:Object(g.jsxs)(X.a,{children:[Object(g.jsx)(Y.a,{children:"Item Name"}),Object(g.jsx)(Y.a,{align:"left",children:"Store"}),Object(g.jsx)(Y.a,{align:"right",children:"Price"}),Object(g.jsx)(Y.a,{align:"right",children:"Estimated Arrival Time"}),Object(g.jsx)(Y.a,{colSpan:1})]})}),Object(g.jsx)(te.a,{children:t})]})})}var ce=n(271),re=n(261),ie=Object(D.a)((function(e){return{tabs:{flexGrow:1,background:e.palette.primary.light}}}));function se(){var e=Object(o.c)((function(e){return e.viewState})),t=Object(o.b)(),n=ie();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(ce.a,{className:n.tabs,variant:"fullWidth",value:e,onChange:function(e,n){t({type:"SET_VIEW_STATE",filter:n})},indicatorColor:"secondary",children:[Object(g.jsx)(re.a,{icon:Object(g.jsx)(k.a,{icon:A.e}),disableRipple:!0,label:"Ongoing",value:"SHOW_WAITING"}),Object(g.jsx)(re.a,{icon:Object(g.jsx)(k.a,{icon:A.j}),disableRipple:!0,label:"Delivered",value:"SHOW_DELIVERED"})]})})}var oe=n(270);function le(e){var t=e.items;return Object(g.jsx)(oe.a,{id:"combo-box-items",options:t,getOptionLabel:function(e){return e.title},style:{width:300},renderInput:function(e){return Object(g.jsx)(U.a,Object(h.a)(Object(h.a)({},e),{},{label:"Items...",variant:"outlined"}))}})}var je=Object(D.a)((function(e){return{addItemButton:{background:e.palette.primary.dark,color:e.palette.secondary.main,borderRadius:"10px","&:hover":{background:e.palette.secondary.main,color:e.palette.primary.dark}}}}));function de(){var e=je(),t=Object(o.c)((function(e){return e.products})),n=Object(o.c)((function(e){return e.viewState})),c=Object(a.useState)(!1),r=Object(S.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)([]),j=Object(S.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(!0),O=Object(S.a)(b,2),h=O[0],m=O[1],p=Object(a.useCallback)((function(){fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]),x=function(e,t){switch(t){case"SHOW_WAITING":return e.filter((function(e){return!e.delivered}));case"SHOW_DELIVERED":return e.filter((function(e){return e.delivered}));default:return}}(t,n);return Object(a.useEffect)((function(){p(),m(!1)}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(z,{open:i,handleClose:function(){s(!1)}}),Object(g.jsx)(se,{}),x.length>0?Object(g.jsx)(ae,{children:x.map((function(e){return Object(g.jsx)(Q,{productDetails:e},e.id)}))}):Object(g.jsxs)(C.a,{align:"center",variant:"h5",style:{marginTop:"20px"},children:["SHOW_DELIVERED"===n?"Delivered items":"Awaiting items"," ","list is empty, add items to fill it"]}),Object(g.jsx)("br",{}),Object(g.jsx)(E.a,{}),Object(g.jsx)("br",{}),Object(g.jsx)(w.a,{onClick:function(){s(!0)},startIcon:Object(g.jsx)(k.a,{icon:A.c}),className:e.addItemButton,children:"Add Item"}),h?Object(g.jsx)(N.a,{color:"secondary",variant:"query"}):d.length>0?Object(g.jsx)(le,{items:d}):null]})}var ue=Object(D.a)((function(e){return{table:{maxHeight:"280px",overflow:"auto"}}}));function be(e){var t=e.children,n=ue();return Object(g.jsx)($.a,{className:n.table,component:K.a,children:Object(g.jsxs)(Z.a,{stickyHeader:!0,size:"small",children:[Object(g.jsx)(ee.a,{children:Object(g.jsxs)(X.a,{children:[Object(g.jsx)(Y.a,{children:"Store Name"}),Object(g.jsx)(Y.a,{align:"right",children:"Quantity"}),Object(g.jsx)(Y.a,{align:"right",children:"Total Price"})]})}),Object(g.jsx)(te.a,{children:t})]})})}function Oe(e){var t=e.storeDetails,n=Object(o.c)((function(e){return e.currency})),a=t.name,c=t.quantity,r=t.price;return Object(g.jsxs)(X.a,{children:[Object(g.jsx)(Y.a,{component:"th",scope:"row",children:a}),Object(g.jsx)(Y.a,{align:"right",children:c}),Object(g.jsx)(Y.a,{align:"right",children:"ILS"===n.view?r*n.value:r})]})}var he=Object(D.a)((function(e){return{separator:{height:"15px",background:e.palette.primary.light}}}));function me(){var e=he(),t=Object(o.c)((function(e){return e.stores})),n=Object(o.c)((function(e){return e.currency}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:e.separator}),t.list.length>0?Object(g.jsx)(be,{children:t.list.map((function(e){return Object(g.jsx)(Oe,{storeDetails:e},e.name)}))}):Object(g.jsx)(C.a,{align:"center",variant:"h5",style:{marginTop:"20px"},children:"Store list is empty, add items to fill it"}),Object(g.jsx)("br",{}),Object(g.jsx)(E.a,{}),Object(g.jsx)("br",{}),Object(g.jsxs)(C.a,{align:"right",style:{fontWeight:"bold"},children:["Total:"," ","ILS"===n.view?t.totalPrice*n.value:t.totalPrice]})]})}var pe=n(264),xe=n(253),ve=n(265),fe=n(252),ge=Object(D.a)((function(e){return{root:{flexGrow:1},bar:{background:e.palette.primary.dark},activeLink:{color:e.palette.secondary.main,borderBottom:"2px solid ".concat(e.palette.secondary.light),cursor:"pointer",textDecoration:"none",paddingBottom:"3px",marginRight:e.spacing(2)},inactiveLink:{color:e.palette.primary.light,cursor:"pointer",textDecoration:"none",paddingBottom:"3px",marginRight:e.spacing(2)},activeCurrency:{color:e.palette.secondary.main,borderBottom:"2px dashed ".concat(e.palette.secondary.light),borderRadius:"0",paddingBottom:"3px"},inactiveCurrency:{color:e.palette.primary.light,paddingBottom:"3px"},currencyTitle:{marginRight:e.spacing(1),color:e.palette.primary.light,paddingBottom:"3px"}}}));function ye(){var e=ge(),t=Object(o.c)((function(e){return e.currency})),n=Object(o.b)(),a=Object(j.f)(),c=function(e){n(function(e){return{type:"CHANGE_CURRENCY_VIEW",view:e}}(e))};return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(pe.a,{position:"static",className:e.bar,children:Object(g.jsx)(xe.a,{variant:"dense",children:Object(g.jsxs)(B.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(g.jsxs)(B.a,{item:!0,children:[Object(g.jsx)(l.b,{className:"/"===a.pathname?e.activeLink:e.inactiveLink,to:"/",children:"Shop by Product"}),Object(g.jsx)(l.b,{className:"/stores"===a.pathname?e.activeLink:e.inactiveLink,to:"/stores",children:"Shop by Stores"})]}),Object(g.jsxs)(B.a,{item:!0,children:[Object(g.jsx)(C.a,{align:"left",className:e.currencyTitle,display:"inline",children:"Currency:"}),Object(g.jsxs)(ve.a,{children:[Object(g.jsx)(fe.a,{"aria-label":"ILS",className:"ILS"===t.view?e.activeCurrency:e.inactiveCurrency,size:"small",edge:"end",onClick:function(){return c("ILS")},children:Object(g.jsx)(k.a,{icon:A.d})}),Object(g.jsx)(fe.a,{"aria-label":"USD",className:"USD"===t.view?e.activeCurrency:e.inactiveCurrency,size:"small",edge:"end",onClick:function(){return c("USD")},children:Object(g.jsx)(k.a,{icon:A.a})})]})]})]})})})})}var Ie=function(){var e=Object(o.b)(),t=Object(a.useCallback)((function(){fetch("https://api.exchangeratesapi.io/latest?base=USD").then((function(e){return e.json()})).then((function(t){console.log(t),e({type:"UPDATE_CURRENCY",value:t.rates.ILS})}))}),[]);return Object(a.useEffect)((function(){var e=setInterval(t,1e4);return function(){return clearInterval(e)}}),[]),Object(g.jsx)(l.a,{basename:"/",children:Object(g.jsx)(O.a,{autoHideDuration:2e3,maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(g.jsx)(u.a,{utils:d.a,children:Object(g.jsx)(I,{children:Object(g.jsxs)(b.a,{maxWidth:"md",children:[Object(g.jsx)(ye,{}),Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{path:"/",exact:!0,component:de}),Object(g.jsx)(j.a,{path:"/stores",exact:!0,component:me})]})]})})})})})},Se=n(80),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(Se.a)(e),[{id:t.id,name:t.name,price:t.price,store:t.store,estimatedArrivalDate:t.estimatedArrivalDate,delivered:!1}]);case"TOGGLE":return e.map((function(e){return e.id===t.id?Object(h.a)(Object(h.a)({},e),{},{delivered:!e.delivered}):e}));default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],totalPrice:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return e.list.find((function(e){return e.name===t.store}))?{list:e.list.map((function(e){return e.name===t.store?Object(h.a)(Object(h.a)({},e),{},{quantity:e.quantity+1,price:parseInt(e.price)+parseInt(t.price)}):e})),totalPrice:e.totalPrice+parseInt(t.price)}:{list:[].concat(Object(Se.a)(e.list),[{name:t.store,quantity:1,price:parseInt(t.price)}]),totalPrice:e.totalPrice+parseInt(t.price)};default:return e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:3.3,view:"USD"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CURRENCY":return Object(h.a)(Object(h.a)({},e),{},{value:parseInt(t.value)});case"CHANGE_CURRENCY_VIEW":return Object(h.a)(Object(h.a)({},e),{},{view:t.view});default:return e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_WAITING",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW_STATE":return t.filter;default:return e}},Ne=Object(s.b)({products:De,stores:Ce,currency:Ee,viewState:we}),ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,278)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Ae=Object(s.c)(Ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(o.a,{store:Ae,children:Object(g.jsx)(Ie,{})})}),document.getElementById("root")),ke()}},[[205,1,2]]]);
//# sourceMappingURL=main.347d9bbf.chunk.js.map