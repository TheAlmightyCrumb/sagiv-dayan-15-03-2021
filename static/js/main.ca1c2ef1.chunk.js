(this["webpackJsonpsagiv-dayan-15-03-2021"]=this["webpackJsonpsagiv-dayan-15-03-2021"]||[]).push([[0],{179:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=n.n(r),s=n(59),l=n(18),o=(n(179),n(67)),j=n(23),d=n(125),b=n(33),u=n(272),O=n(49),h=n(24),m=n(147),p=function(e){return Object(h.a)({type:"ADD",id:Object(m.v4)()},e)},x=n(150),v=n(250),f=n(89),g=n(249),y=n(4),I=Object(x.a)({palette:{primary:{light:f.a[400],main:f.a[700],dark:f.a[900]},secondary:{main:g.a[600]},contrastThreshold:3,tonalOffset:.2}});function S(e){var t=e.children;return Object(y.jsx)(v.a,{theme:I,children:t})}var D=n(52),C=n(248),E=n(107),w=n(268),k=n(254),N=n(212),A=n(258),T=n(278),_=n(269),L=n(31),P=n(32),R=n(81),W=n(90),B=n(91),H=n(280),U=n(252),G=n(253),V=n(283),F=n(274),q=n(255),z=n(256),M=n(275),X=Object(C.a)((function(e){return{dialog:{background:f.a[200]},input:{maxWidth:"100%"},clearButton:{marginRight:e.spacing(3),color:W.a.A700},submitButton:{color:B.a[500]}}}));function Y(e){var t=e.open,n=e.handleClose,c=Object(a.useState)({name:"",price:"",store:"",estimatedArrivalDate:new Date}),r=Object(D.a)(c,2),i=r[0],s=r[1],o=Object(O.b)().enqueueSnackbar,j=X(),d=Object(l.b)(),b=function(e,t){s((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(R.a)({},t,e.target.value))}))},u=function(e){o(e,{variant:"error"})};return Object(y.jsxs)(H.a,{PaperProps:{className:j.dialog},open:t,onClose:n,fullWidth:!0,children:[Object(y.jsx)(U.a,{children:"Add New Item"}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i.name.trim()?i.store.trim()?i.price.match(/^\d+$/g)?(d(p(i)),o("Item has been added successfully",{variant:"success"}),s({name:"",price:"",store:"",estimatedArrivalDate:new Date}),n()):u("Invalid price - digits only"):u("Item's store is missing"):u("Item's name is missing")},children:[Object(y.jsx)(G.a,{dividers:!0,children:Object(y.jsxs)(k.a,{container:!0,spacing:2,alignContent:"center",children:[Object(y.jsx)(k.a,{item:!0,md:6,sm:6,xs:6,children:Object(y.jsx)(V.a,{children:Object(y.jsx)(F.a,{className:j.input,margin:"dense",label:"Item Name",InputProps:{startAdornment:Object(y.jsx)(q.a,{position:"start",children:Object(y.jsx)(L.a,{icon:P.b})})},onChange:function(e){return b(e,"name")},value:i.name,variant:"outlined"})})}),Object(y.jsx)(k.a,{item:!0,sm:6,xs:6,children:Object(y.jsx)(V.a,{children:Object(y.jsx)(F.a,{className:j.input,margin:"dense",label:"Store",InputProps:{startAdornment:Object(y.jsx)(q.a,{position:"start",children:Object(y.jsx)(L.a,{icon:P.g})})},onChange:function(e){return b(e,"store")},value:i.store,variant:"outlined"})})}),Object(y.jsx)(k.a,{item:!0,sm:6,xs:6,children:Object(y.jsx)(V.a,{children:Object(y.jsx)(F.a,{className:j.input,margin:"dense",label:"Price",InputProps:{startAdornment:Object(y.jsx)(q.a,{position:"start",children:Object(y.jsx)(L.a,{icon:P.h})})},onChange:function(e){return b(e,"price")},value:i.price,variant:"outlined"})})}),Object(y.jsx)(k.a,{item:!0,sm:6,xs:6,children:Object(y.jsx)(V.a,{children:Object(y.jsx)(M.a,{autoOk:!0,disableToolbar:!0,margin:"dense",variant:"inline",inputVariant:"outlined",label:"Estimated Date of Arrival",value:i.estimatedArrivalDate,format:"dd/MM/yyyy",disablePast:!0,onChange:function(e){return function(e){s((function(t){return Object(h.a)(Object(h.a)({},t),{},{estimatedArrivalDate:e})}))}(e)}})})})]})}),Object(y.jsx)(z.a,{children:Object(y.jsxs)(k.a,{container:!0,justify:"space-between",children:[Object(y.jsx)(k.a,{item:!0,children:Object(y.jsx)(N.a,{onClick:function(){return n()},variant:"text",children:"Cancel"})}),Object(y.jsxs)(k.a,{item:!0,children:[Object(y.jsx)(N.a,{className:j.clearButton,onClick:function(e){e.preventDefault(),s({name:"",price:"",store:"",estimatedArrivalDate:new Date})},variant:"text",startIcon:Object(y.jsx)(L.a,{icon:P.i}),children:"Clear"}),Object(y.jsx)(N.a,{className:j.submitButton,type:"submit",variant:"text",startIcon:Object(y.jsx)(L.a,{icon:P.f}),children:"Submit"})]})]})})]})]})}var J=n(260),Q=n(261),$=n(262),K=n(273);function Z(e){var t=e.productDetails,n=Object(O.b)().enqueueSnackbar,a=Object(l.b)(),c=Object(l.c)((function(e){return e.currency})),r=t.id,i=t.name,s=t.store,o=t.price,j=t.estimatedArrivalDate,d=t.delivered;return Object(y.jsxs)(Q.a,{children:[Object(y.jsx)($.a,{component:"th",scope:"row",children:i}),Object(y.jsx)($.a,{align:"left",children:s}),Object(y.jsx)($.a,{align:"right",children:"ILS"===c.view?o*c.value:o}),Object(y.jsx)($.a,{align:"right",children:Object(K.a)(j,"dd/MM/yyyy")}),Object(y.jsx)($.a,{align:"center",children:Object(y.jsx)(N.a,{onClick:function(){return function(e){a({type:"TOGGLE",id:e}),n(d?"Item has been reactivated":"Item has been marked as delivered",{variant:"info",TransitionComponent:J.a})}(r)},size:"small",fullWidth:!0,variant:"text",children:d?"Activate":"Archive"})})]})}var ee=n(263),te=n(211),ne=n(264),ae=n(265),ce=n(266),re=Object(C.a)((function(e){return{table:{maxHeight:"280px",overflow:"auto"}}}));function ie(e){var t=e.children,n=re();return Object(y.jsx)(ee.a,{className:n.table,component:te.a,children:Object(y.jsxs)(ne.a,{stickyHeader:!0,size:"small",children:[Object(y.jsx)(ae.a,{children:Object(y.jsxs)(Q.a,{children:[Object(y.jsx)($.a,{children:"Item Name"}),Object(y.jsx)($.a,{align:"left",children:"Store"}),Object(y.jsx)($.a,{align:"right",children:"Price"}),Object(y.jsx)($.a,{align:"right",children:"Estimated Arrival Time"}),Object(y.jsx)($.a,{colSpan:1})]})}),Object(y.jsx)(ce.a,{children:t})]})})}var se=n(276),le=n(267),oe=Object(C.a)((function(e){return{tabs:{flexGrow:1,background:e.palette.primary.light}}}));function je(){var e=Object(l.c)((function(e){return e.viewState})),t=Object(l.b)(),n=oe();return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(se.a,{className:n.tabs,variant:"fullWidth",value:e,onChange:function(e,n){t({type:"SET_VIEW_STATE",filter:n})},indicatorColor:"secondary",children:[Object(y.jsx)(le.a,{icon:Object(y.jsx)(L.a,{icon:P.e}),disableRipple:!0,label:"Ongoing",value:"SHOW_WAITING"}),Object(y.jsx)(le.a,{icon:Object(y.jsx)(L.a,{icon:P.j}),disableRipple:!0,label:"Delivered",value:"SHOW_DELIVERED"})]})})}var de=n(257),be=n(277),ue=n(281);function Oe(e){var t=e.items,n=Object(a.useState)(null),c=Object(D.a)(n,2),r=c[0],i=c[1],s=Object(O.b)().enqueueSnackbar,o=Object(l.b)();return Object(y.jsxs)(k.a,{container:!0,justify:"flex-end",children:[Object(y.jsx)(k.a,{item:!0,children:Object(y.jsx)(be.a,{id:"combo-box-items",value:r,onChange:function(e,t){console.log("value: ",r),console.log("newValue: ",t),i(t)},options:t,getOptionLabel:function(e){return e.title},style:{width:300},renderInput:function(e){return Object(y.jsx)(F.a,Object(h.a)(Object(h.a)({},e),{},{helperText:"Estimated arrival date is approximately 25 days from placing an order",label:"Our Store's Items...",variant:"outlined"}))}})}),Object(y.jsx)(k.a,{item:!0,children:Object(y.jsx)(de.a,{"aria-label":"add from shop options",onClick:function(e){null!==r?(o(p({name:r.title,price:parseInt(r.price),store:"FakeStoreAPI",estimatedArrivalDate:Object(ue.a)(new Date,{weeks:3,days:4})})),s("Item has been added successfully",{variant:"success"})):s("No item has been chosen",{variant:"error"})},children:Object(y.jsx)(L.a,{icon:P.c})})})]})}var he=Object(C.a)((function(e){return{addItemButton:{background:e.palette.primary.dark,color:e.palette.secondary.main,borderRadius:"10px","&:hover":{background:e.palette.secondary.main,color:e.palette.primary.dark}}}}));function me(){var e=he(),t=Object(l.c)((function(e){return e.products})),n=Object(l.c)((function(e){return e.viewState})),c=Object(a.useState)(!1),r=Object(D.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)([]),j=Object(D.a)(o,2),d=j[0],b=j[1],u=Object(a.useState)(!0),O=Object(D.a)(u,2),h=O[0],m=O[1],p=Object(a.useCallback)((function(){fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){b(e),m(!1)}))}),[]),x=function(e,t){switch(t){case"SHOW_WAITING":return e.filter((function(e){return!e.delivered}));case"SHOW_DELIVERED":return e.filter((function(e){return e.delivered}));default:return}}(t,n);return Object(a.useEffect)((function(){p()}),[p]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Y,{open:i,handleClose:function(){s(!1)}}),Object(y.jsx)(je,{}),x.length>0?Object(y.jsx)(ie,{children:x.map((function(e){return Object(y.jsx)(Z,{productDetails:e},e.id)}))}):Object(y.jsxs)(E.a,{align:"center",variant:"h5",style:{marginTop:"20px"},children:["SHOW_DELIVERED"===n?"Delivered items":"Awaiting items"," ","list is empty, add items to fill it"]}),Object(y.jsx)("br",{}),Object(y.jsx)(w.a,{}),Object(y.jsx)("br",{}),Object(y.jsxs)(k.a,{container:!0,justify:"space-between",children:[Object(y.jsx)(k.a,{item:!0,children:Object(y.jsx)(N.a,{onClick:function(){s(!0)},startIcon:Object(y.jsx)(L.a,{icon:P.c}),className:e.addItemButton,children:"Add Item"})}),Object(y.jsx)(k.a,{item:!0,children:h?Object(y.jsx)(A.a,{disableShrink:!0}):d.length>0?Object(y.jsx)(Oe,{items:d}):Object(y.jsxs)(T.a,{severity:"error",children:[Object(y.jsx)(_.a,{children:"Error"}),"Could not fetch store items"]})})]})]})}var pe=Object(C.a)((function(e){return{table:{maxHeight:"280px",overflow:"auto"}}}));function xe(e){var t=e.children,n=pe();return Object(y.jsx)(ee.a,{className:n.table,component:te.a,children:Object(y.jsxs)(ne.a,{stickyHeader:!0,size:"small",children:[Object(y.jsx)(ae.a,{children:Object(y.jsxs)(Q.a,{children:[Object(y.jsx)($.a,{children:"Store Name"}),Object(y.jsx)($.a,{align:"right",children:"Quantity"}),Object(y.jsx)($.a,{align:"right",children:"Total Price"})]})}),Object(y.jsx)(ce.a,{children:t})]})})}function ve(e){var t=e.storeDetails,n=Object(l.c)((function(e){return e.currency})),a=t.name,c=t.quantity,r=t.price;return Object(y.jsxs)(Q.a,{children:[Object(y.jsx)($.a,{component:"th",scope:"row",children:a}),Object(y.jsx)($.a,{align:"right",children:c}),Object(y.jsx)($.a,{align:"right",children:"ILS"===n.view?r*n.value:r})]})}var fe=Object(C.a)((function(e){return{separator:{height:"15px",background:e.palette.primary.light}}}));function ge(){var e=fe(),t=Object(l.c)((function(e){return e.stores})),n=Object(l.c)((function(e){return e.currency}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:e.separator}),t.list.length>0?Object(y.jsx)(xe,{children:t.list.map((function(e){return Object(y.jsx)(ve,{storeDetails:e},e.name)}))}):Object(y.jsx)(E.a,{align:"center",variant:"h5",style:{marginTop:"20px"},children:"Store list is empty, add items to fill it"}),Object(y.jsx)("br",{}),Object(y.jsx)(w.a,{}),Object(y.jsx)("br",{}),Object(y.jsxs)(E.a,{align:"right",style:{fontWeight:"bold"},children:["Total:"," ","ILS"===n.view?t.totalPrice*n.value:t.totalPrice]})]})}var ye=n(270),Ie=n(259),Se=n(271),De=Object(C.a)((function(e){return{root:{flexGrow:1},bar:{background:e.palette.primary.dark},activeLink:{color:e.palette.secondary.main,borderBottom:"2px solid ".concat(e.palette.secondary.light),cursor:"pointer",textDecoration:"none",paddingBottom:"3px",marginRight:e.spacing(2)},inactiveLink:{color:e.palette.primary.light,cursor:"pointer",textDecoration:"none",paddingBottom:"3px",marginRight:e.spacing(2)},activeCurrency:{color:e.palette.secondary.main,borderBottom:"2px dashed ".concat(e.palette.secondary.light),borderRadius:"0",paddingBottom:"3px"},inactiveCurrency:{color:e.palette.primary.light,paddingBottom:"3px"},currencyTitle:{marginRight:e.spacing(1),color:e.palette.primary.light,paddingBottom:"3px"}}}));function Ce(){var e=De(),t=Object(l.c)((function(e){return e.currency})),n=Object(l.b)(),a=Object(j.f)(),c=function(e){n(function(e){return{type:"CHANGE_CURRENCY_VIEW",view:e}}(e))};return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(ye.a,{position:"static",className:e.bar,children:Object(y.jsx)(Ie.a,{variant:"dense",children:Object(y.jsxs)(k.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(y.jsxs)(k.a,{item:!0,children:[Object(y.jsx)(o.b,{className:"/"===a.pathname?e.activeLink:e.inactiveLink,to:"/",children:"Shop by Product"}),Object(y.jsx)(o.b,{className:"/stores"===a.pathname?e.activeLink:e.inactiveLink,to:"/stores",children:"Shop by Stores"})]}),Object(y.jsxs)(k.a,{item:!0,children:[Object(y.jsx)(E.a,{align:"left",className:e.currencyTitle,display:"inline",children:"Currency:"}),Object(y.jsxs)(Se.a,{children:[Object(y.jsx)(de.a,{"aria-label":"ILS",className:"ILS"===t.view?e.activeCurrency:e.inactiveCurrency,size:"small",edge:"end",onClick:function(){return c("ILS")},children:Object(y.jsx)(L.a,{icon:P.d})}),Object(y.jsx)(de.a,{"aria-label":"USD",className:"USD"===t.view?e.activeCurrency:e.inactiveCurrency,size:"small",edge:"end",onClick:function(){return c("USD")},children:Object(y.jsx)(L.a,{icon:P.a})})]})]})]})})})})}var Ee=function(){var e=Object(l.b)(),t=Object(a.useCallback)((function(){fetch("https://api.exchangeratesapi.io/latest?base=USD").then((function(e){return e.json()})).then((function(t){console.log(t),e({type:"UPDATE_CURRENCY",value:t.rates.ILS})}))}),[]);return Object(a.useEffect)((function(){var e=setInterval(t,1e4);return function(){return clearInterval(e)}}),[]),Object(y.jsx)(o.a,{basename:"/",children:Object(y.jsx)(O.a,{autoHideDuration:2e3,maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(y.jsx)(b.a,{utils:d.a,children:Object(y.jsx)(S,{children:Object(y.jsxs)(u.a,{maxWidth:"md",children:[Object(y.jsx)(Ce,{}),Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{path:"/",exact:!0,component:me}),Object(y.jsx)(j.a,{path:"/stores",exact:!0,component:ge})]})]})})})})})},we=n(86),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(we.a)(e),[{id:t.id,name:t.name,price:t.price,store:t.store,estimatedArrivalDate:t.estimatedArrivalDate,delivered:!1}]);case"TOGGLE":return e.map((function(e){return e.id===t.id?Object(h.a)(Object(h.a)({},e),{},{delivered:!e.delivered}):e}));default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],totalPrice:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return e.list.find((function(e){return e.name===t.store}))?{list:e.list.map((function(e){return e.name===t.store?Object(h.a)(Object(h.a)({},e),{},{quantity:e.quantity+1,price:parseInt(e.price)+parseInt(t.price)}):e})),totalPrice:e.totalPrice+parseInt(t.price)}:{list:[].concat(Object(we.a)(e.list),[{name:t.store,quantity:1,price:parseInt(t.price)}]),totalPrice:e.totalPrice+parseInt(t.price)};default:return e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:3.3,view:"USD"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CURRENCY":return Object(h.a)(Object(h.a)({},e),{},{value:parseInt(t.value)});case"CHANGE_CURRENCY_VIEW":return Object(h.a)(Object(h.a)({},e),{},{view:t.view});default:return e}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_WAITING",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW_STATE":return t.filter;default:return e}},_e=Object(s.b)({products:ke,stores:Ne,currency:Ae,viewState:Te}),Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Pe=Object(s.c)(_e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(l.a,{store:Pe,children:Object(y.jsx)(Ee,{})})}),document.getElementById("root")),Le()}},[[210,1,2]]]);
//# sourceMappingURL=main.ca1c2ef1.chunk.js.map